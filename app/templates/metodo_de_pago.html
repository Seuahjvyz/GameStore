<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameStore - M√©todo de Pago</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/stylepay.css') }}">
    <meta name="csrf-token" content="{{ csrf_token }}">
</head>
<body>
      <!-- Barra Lateral Moderna -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <div class="logo-container">
                    <img src="/static/img/Icon_GS.png" alt="GameStore Logo" class="logo-image" onerror="this.style.display='none'; document.getElementById('logo-emoji').style.display='block';">
                    <span id="logo-emoji" class="logo-emoji" style="display: none;">üéÆ</span>
                </div>
            </div>
        </div>

    <nav class="barra_lateral">
    <a class="logo_link" href="{{ url_for('root') }}"><img class="logo" src="{{ url_for('static', filename='img/Icon_GS.png') }}" alt="Logo"></a>

        <ul>
        <li><a class="enlace_barra_lateral_fijo" href="/"><i class="fa-solid fa-house"></i> Inicio</a></li>

        <li><a class="enlace_barra_lateral" href="{{ url_for('perfiluser') }}"><i
            class="fa-solid fa-circle-user"></i> Perfil</a></li>

        <li><a class="enlace_barra_lateral" href="/"><i class="fa-solid fa-magnifying-glass"></i> Buscar</a>
        </li>
        <li><a class="enlace_barra_lateral" href="/templates/favoritos.html"><i class="fa-solid fa-heart"></i>
            Favoritos</a></li>

        <li><a class="enlace_barra_lateral" href="/templates/pedidos.html"><i class="fa-solid fa-box"></i>
            Pedidos</a></li>
            <li>
                <h3>Categor√≠as</h3>
            </li>
        <li><a class="enlace_barra_lateral" href="{{ url_for('category_page', slug='juegos') }}"><i class="fa-solid fa-ghost"></i>
            Juegos</a></li>
        <li><a class="enlace_barra_lateral" href="{{ url_for('category_page', slug='accesorios') }}"><i
            class="fa-solid fa-headset"></i> Accesorios</a></li>
        <li><a class="enlace_barra_lateral" href="{{ url_for('category_page', slug='consolas') }}"><i class="fa-solid fa-tv"></i>
            Consolas</a></li>
        <li><a class="enlace_barra_lateral" href="{{ url_for('category_page', slug='controles') }}"><i class="fa-solid fa-gamepad"></i>
            Controles</a></li>
        <li><a class="enlace_barra_lateral" href="{{ url_for('view_cart') }}"><i
            class="fa-solid fa-cart-shopping"></i> Carrito</a></li>
        <li><a class="enlace_barra_lateral" href="{{ url_for('registro') }}"><i class="fa-solid fa-users"></i>
            Registrarse</a></li>
        <li><a class="enlace_barra_lateral" href="{{ url_for('login') }}"><i class="fa-solid fa-user"></i>
            Iniciar sesi√≥n</a></li>
        </ul>
    </nav>

    <main>
        <header class="encabezado">
            <section class="buscador">
                        <input type="text" id="buscar-input" placeholder="Buscar producto">
                        <button class="btn_buscar" id="buscar-btn"><i class="fa-solid fa-magnifying-glass"></i></button>
            </section>

            <section class="iconos">
                <button class="btn_notificaciones" id="mostrarNotificaciones"><i class="fa-solid fa-bell"></i></button>
                <a class="icon" href="{{ url_for('view_cart') }}"><i class="fa-solid fa-cart-shopping"></i></a>
                <a class="icon" href="{{ url_for('perfiluser') }}"><i class="fa-solid fa-circle-user"></i></a>
            </section>
        </header>



    <!-- Contenido Principal -->
    <div class="main-content">
        <header class="header">
            <h1>Productos en Carrito</h1>
            <p class="header-subtitle">Revisa y confirma tu compra</p>
        </header>

        <main class="payment-container">
            <!-- Productos en el carrito -->
            <div class="cart-section">
                {% if cart_items and cart_items|length > 0 %}
                    {% for it in cart_items %}
                    <div class="cart-item">
                        <div class="cart-image-container">
                            <img src="{{ url_for('product_image', pid=it.id) }}" alt="{{ it.title }}" class="cart-image">
                        </div>
                        <div class="cart-item-info">
                            <h3 class="product-title">{{ it.title }}</h3>
                            <p class="item-price">${{ '%.2f'|format(it.price) }}</p>
                        </div>
                        <button class="delete-btn btn_eliminar" data-pid="{{ it.id }}">
                            <span class="btn-icon">üóëÔ∏è</span>
                            ELIMINAR
                        </button>
                    </div>
                    {% endfor %}
                {% else %}
                    <p>No hay productos en el carrito.</p>
                {% endif %}
            </div>

            <!-- Total -->
                <div class="total-section">
                <h2>Total</h2>
                <p class="total-amount">${{ '%.2f'|format(total or subtotal or 0) }}</p>
            </div>

            <!-- M√©todos de Pago -->
            <div class="payment-methods">
                <h2>M√©todo de Pago</h2>
                
                <div class="payment-options">
                    <div class="payment-option">
                        <input type="radio" id="credit-card" name="payment-method" value="credit-card" checked>
                        <label for="credit-card" class="payment-label">
                            <span class="payment-icon">üí≥</span>
                            Tarjeta de Cr√©dito/D√©bito
                        </label>
                    </div>
                </div>
            </div>

            <!-- Datos Bancarios -->
            <div class="payment-section credit-card-section">
                <h2>Datos de Tarjeta</h2>
                
                <div class="form-group">
                    <label class="form-label">Nombre del Titular de la tarjeta</label>
                    <input type="text" class="input-field" placeholder="Ingresa el nombre completo">
                </div>

                <div class="form-group">
                    <label class="form-label">N√∫mero de tarjeta</label>
                    <input type="text" class="input-field" placeholder="1234 5678 9012 3456" maxlength="19">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Fecha de vencimiento</label>
                        <input type="text" class="input-field" placeholder="MM/AA" maxlength="5">
                    </div>

                    <div class="form-group">
                        <label class="form-label">CVV</label>
                        <input type="text" class="input-field" placeholder="123" maxlength="3">
                    </div>
                </div>
            </div>

            <!-- Botones de acci√≥n -->
                <div class="action-buttons">
                <a class="back-btn" href="{{ url_for('view_cart') }}">
                    <span class="btn-icon">‚Üê</span>
                    Volver
                </a>
                <button id="checkoutBtn" class="confirm-btn">
                    <span class="btn-icon">‚úì</span>
                    Finalizar Compra
                </button>
            </div>
        </main>
    </div>
    <script src="{{ url_for('static', filename='js/site_actions.js') }}"></script>
</body>
</html>